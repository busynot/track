		
function hash(d) {
	h = 1125899906842597e-0; // prime
	if (typeof(d)=="string") {
		
	    var len = d.length;

	    for (var i = 0; i < len; i++) {
			h = 31*h + d.charCodeAt(i);
		}
		return h;
  } else if (Array.isArray(d)) {
	var len = d.length
	for (var i=0; i < len; i++) {
		h = 31*h + d[i]
	}
	return h
  } else if (typeof(d)=="number") {
	return hash(d.toString());
  } else if (typeof(d)=="function") {
	return hash(d.name);
  } else if (typeof(d)=="boolean") {
	return hash(d.toString())
  } else {
	return hash(signature(d))
  }
}

function signature(d){
	var map=[]
	for (props in d) {
		if(typeof(d[props])==="object") {
			map.push(hash(props.toString()))
		} else {
			map.push(hash(d[props]))	
		}
	}
	return map
}
